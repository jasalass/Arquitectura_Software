{
 "execution": [
  {
   "concurrency": 50,
   "ramp-up": "30s",
   "hold-for": "2m",
   "scenario": "flujo-completo-gateway"
  },
  {
   "concurrency": 100,
   "ramp-up": "30s",
   "hold-for": "2m",
   "scenario": "flujo-completo-gateway"
  },
  {
   "concurrency": 300,
   "ramp-up": "45s",
   "hold-for": "2m",
   "scenario": "flujo-completo-gateway"
  },
  {
   "concurrency": 600,
   "ramp-up": "1m",
   "hold-for": "2m",
   "scenario": "flujo-completo-gateway"
  },
  {
   "concurrency": 800,
   "ramp-up": "1m",
   "hold-for": "2m",
   "scenario": "flujo-completo-gateway"
  },
  {
   "concurrency": 1000,
   "ramp-up": "1m",
   "hold-for": "3m",
   "scenario": "flujo-completo-gateway"
  }
 ],
 "scenarios": {
  "flujo-completo-gateway": {
   "default-address": "http://localhost:3000",
   "think-time": "0.3s",
   "requests": [
    {
     "label": "login-email",
     "url": "/auth",
     "method": "POST",
     "headers": {
      "Content-Type": "application/json"
     },
     "body": "{\n  \"email\": \"user@email.com\",\n  \"password\": \"12345\"\n}\n",
     "extract-jsonpath": {
      "token": {
       "jsonpath": "$.token"
      },
      "user_uuid": {
       "jsonpath": "$.user.uuid"
      }
     }
    },
    {
     "label": "ver-asignaturas",
     "url": "/inscripcion/asignaturas",
     "method": "GET",
     "headers": {
      "Authorization": "Bearer ${token}"
     }
    },
    {
     "label": "ver-inscripciones-alumno",
     "url": "/inscripcion/alumnos/${user_uuid}/asignaturas",
     "method": "GET",
     "headers": {
      "Authorization": "Bearer ${token}"
     }
    },
    {
     "label": "estado-alumno-inscripcion",
     "url": "/inscripcion/alumno-estado/${user_uuid}",
     "method": "GET",
     "headers": {
      "Authorization": "Bearer ${token}"
     }
    },
    {
     "label": "estado-pago",
     "url": "/pago/estado/${user_uuid}",
     "method": "GET",
     "headers": {
      "Authorization": "Bearer ${token}"
     }
    },
    {
     "label": "pagar-matricula",
     "url": "/pago/pagar-matricula",
     "method": "POST",
     "headers": {
      "Content-Type": "application/json",
      "Authorization": "Bearer ${token}"
     },
     "body": "{\n  \"uuid\": \"${user_uuid}\"\n}\n"
    }
   ]
  }
 }
}
